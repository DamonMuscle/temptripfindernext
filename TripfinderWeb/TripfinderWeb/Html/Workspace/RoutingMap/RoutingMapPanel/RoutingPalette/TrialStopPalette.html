<div class="item-header panel-grid-header routing-palette-head">
	<div class="icon trial-stop"></div>
	<div class="title">Trial Stop</div>
	<div class="head-icon show-eye" data-bind="click:toggleShow,css:{'hide-eye':!isShowMode()},attr:{title:isShowMode()?'Hide Trial Stop':'Show Trial Stop'}"></div>
</div>
<div class="school-boundary-grid content-container trial-stop-section">
	<div class="item-content panel-grid-content show" data-bind="uiInit:uiInit">
		<div class="parcelpalette mapeditingpalette" data-bind="with:eventsManager">
			<div class="directions-tool locate-tool parcelpoint-tool">
				<div class="print-setting-group" data-bind="dropDownMenu">
					<div class="icon file fixed-menu-btn" title="File" data-bind="css:{disable:!viewModel.isShowMode()}"></div>
					<div class="menu fileMenu withsub-menu with-sub-menu">
						<ul>
							<li class="menu-item" data-bind="clickButton:{click:settingsClick,disable:!tf.authManager.isAuthorizedFor('routingMap',['add','edit'])}">
								<div class="menuIcon settings"></div>
								<div class="text"><span>Settings</span></div>
							</li>
						</ul>
					</div>
				</div>
				<div class="vertical-line"></div>
				<div class="print-setting-group create-dropdown-list" data-bind="dropDownMenu">
					<div class="icon fixed-menu-btn destination add-stop" title="Add Stop" data-bind="css:{disable:!tf.authManager.isAuthorizedFor('routingMap',['add','edit'])||!viewModel.isShowMode()}"></div>
					<div class="menu map-pinpoint-white withsub-menu with-sub-menu">
						<ul>
							<li data-bind="click:createTrialStopClick,mapModeStyleButton" mode="TrialStop-Create">
								<div class="menuIcon"></div>
								<div class="text"><span>Add Stop</span></div>
							</li>
							<li class="menu-item">
								<div class="menuIcon"></div>
								<div class="menu-label text"><span>Add Stop at Junction Selection</span><span class="k-icon k-i-arrow-e"></span></div>
								<div>
									<ul class="sub-menu sub-context-menu sub-context-menu-contain-icon">
										<li class="polygon" data-bind="click:selectJunctionAreaOptionClick.bind($data,'polygon')" mode="TrialStop-SelectJunctionMapArea-polygon">
											<div class="menuIcon polygon"></div>
											<div class="text"><span>Polygon</span></div>
										</li>
										<li class="rectangle" data-bind="click:selectJunctionAreaOptionClick.bind($data,'rectangle')" mode="TrialStop-SelectJunctionMapArea-rectangle">
											<div class="menuIcon rectangle"></div>
											<div class="text"><span>Rectangle</span></div>
										</li>
										<li class="draw" data-bind="click:selectJunctionAreaOptionClick.bind($data,'draw')" mode="TrialStop-SelectJunctionMapArea-draw">
											<div class="menuIcon draw"></div>
											<div class="text"><span>Draw</span></div>
										</li>
										<li class="circle" data-bind="click:selectJunctionAreaOptionClick.bind($data,'circle')" mode="TrialStop-SelectJunctionMapArea-circle">
											<div class="menuIcon circle"></div>
											<div class="text"><span>Circle</span></div>
										</li>
									</ul>
								</div>
							</li>
							<li class="menu-item">
								<div class="menuIcon"></div>
								<div class="menu-label text" data-bind="css:{disable:!viewModel.fieldTripPaletteSection.eventsManager.obTripSelected()}" ><span>Add Stop from Unassigned Students Selection</span><span class="k-icon k-i-arrow-e"></span></div>
								<div>
									<ul class="sub-menu sub-context-menu sub-context-menu-contain-icon">
										<li class="polygon" data-bind="clickButton:{click:selectStudentJunctionAreaOptionClick.bind($data,'polygon'),disable:!viewModel.fieldTripPaletteSection.eventsManager.obTripSelected()}">
											<div class="menuIcon polygon"></div>
											<div class="text"><span>Polygon</span></div>
										</li>
										<li class="rectangle" data-bind="clickButton:{click:selectStudentJunctionAreaOptionClick.bind($data,'rectangle'),disable:!viewModel.fieldTripPaletteSection.eventsManager.obTripSelected()}">
											<div class="menuIcon rectangle"></div>
											<div class="text"><span>Rectangle</span></div>
										</li>
										<li class="draw" data-bind="clickButton:{click:selectStudentJunctionAreaOptionClick.bind($data,'draw'),disable:!viewModel.fieldTripPaletteSection.eventsManager.obTripSelected()}">
											<div class="menuIcon draw"></div>
											<div class="text"><span>Draw</span></div>
										</li>
										<li class="circle" data-bind="clickButton:{click:selectStudentJunctionAreaOptionClick.bind($data,'circle'),disable:!viewModel.fieldTripPaletteSection.eventsManager.obTripSelected()}">
											<div class="menuIcon circle"></div>
											<div class="text"><span>Circle</span></div>
										</li>
									</ul>
								</div>
							</li>
							<li class="menu-divider">
								<div class="rule"></div>
							</li>
							<li data-bind="clickButton:{click:createTripStopFromSelectionClick,disable:!tf.authManager.isAuthorizedFor('routingMap',['add','edit'])||obDisableCreateTripStop()}" mode="TrialStop-Create-FromSelection">
								<div class="menuIcon"></div>
								<div class="text"><span>Copy to Trip Stop from Selection</span></div>
							</li>
							<li data-bind="clickButton:{click:createPoolStopFromSelectionClick,disable:!tf.authManager.isAuthorizedFor('routingMap',['add','edit'])||obDisableCreatePoolStop()}" mode="TrialStop-Create-FromSelection">
								<div class="menuIcon"></div>
								<div class="text"><span data-bind='text: viewModel.newPoolStopHeaderName'></span></div>
							</li>
						</ul>
					</div>
				</div>
				<div class="vertical-line"></div>
				<div class="print-setting-group" data-bind="dropDownMenu">
					<div class="icon select-area fixed-menu-btn select" title="Geo Select" data-bind="css:{disable:!viewModel.isShowMode()}"></div>
					<div class="menu map-pinpoint-white withsub-menu">
						<ul>
							<li class="polygon" data-bind="click:selectAreaOptionClick.bind($data,'polygon'),mapModeStyleButton">
								<div class="menuIcon polygon"></div>
								<div class="text"><span>Polygon</span></div>
							</li>
							<li class="rectangle" data-bind="click:selectAreaOptionClick.bind($data,'rectangle'),mapModeStyleButton">
								<div class="menuIcon rectangle"></div>
								<div class="text"><span>Rectangle</span></div>
							</li>
							<li class="draw" data-bind="click:selectAreaOptionClick.bind($data,'draw'),mapModeStyleButton">
								<div class="menuIcon draw"></div>
								<div class="text"><span>Draw</span></div>
							</li>
							<li class="circle" data-bind="click:selectAreaOptionClick.bind($data,'circle'),mapModeStyleButton">
								<div class="menuIcon circle"></div>
								<div class="text"><span>Circle</span></div>
							</li>
						</ul>
					</div>
				</div>
				<div class="vertical-line"></div>
				<div class="icon zoom-map-to-layers" title="Zoom Map to Layers" data-bind="clickButton:{disable:!viewModel.isShowMode(),click:centerMapClick}"></div>
				<div class="vertical-line"></div>
				<div class="print-setting-group" data-bind="dropDownMenu">
					<div class="icon select-all fixed-menu-btn" title="Select Stop" data-bind="css:{disable:!viewModel.isShowMode()}"></div>
					<div class="menu selectMenu withsub-menu">
						<ul>
							<li data-bind="click:selectAllClick">
								<div class="menuIcon select-all-white"></div>
								<div class="text"><span>Select All</span></div>
							</li>
							<li data-bind="click:deselectAllClick">
								<div class="menuIcon clear-all-white"></div>
								<div class="text"><span>Deselect All</span></div>
							</li>
						</ul>
					</div>
				</div>
				<div class="vertical-line"></div>
				<div class="icon boundary-details" data-bind="clickButton:{disable:!obHighlighted()||!viewModel.isShowMode(),click:menuInfoClick}" title="Info"></div>
				<div class="vertical-line"></div>
				<div class="icon delete" title="Delete" data-bind="clickButton:{disable:!tf.authManager.isAuthorizedFor('routingMap',['add','edit'])||!obHighlighted()||!viewModel.isShowMode(),click:deleteClick}"></div>
			</div>
		</div>
		<div class="pannel-item-content" data-bind="with:display,panelContentDrag:{displayArray: display.obTrialStops}">
			<!-- ko foreach: obTrialStops -->
			<div class="content-wrapper parcel-warpper" data-bind="css:{'selected':$data.obIsHighlighted()}">
				<div class="content-container boundary-planning-container" data-bind="event:{ click: $parent.selectItemClick.bind($parent)}">
					<div class="left-column-icon-container">
						<div class="left-column-icon">
						</div>
					</div>
					<div class="content parcel-content">
						<span data-bind="text:$data.obStreet()"></span>&nbsp;&nbsp;<span class="sm-sub-content "><span data-bind="text:$data.obDistance() "></span> | <span data-bind="text:$data.obStudentCount() "></span></span>
					</div>
					<div class="buttons ">
						<div class="icon zoom-map-to-layers " title="Center Map " data-bind="click:$parent.viewModel.eventsManager.centerMapClick.bind($parent.viewModel.eventsManager) "></div>
					</div>
				</div>
			</div>
			<!--/ko-->
		</div>
		<div class="bottom-info-container ">
			<div data-bind="text:display.obFooterDisplay() "></div>
		</div>
	</div>
</div>